<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday Komal üå∏</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Great+Vibes&family=Cormorant+Garamond:wght@400;600;700&family=Montserrat:wght@300;400;500;600&family=Dancing+Script:wght@700&display=swap');

        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-behavior: smooth; }
        body {
            background: #0a0a14;
            overflow-x: hidden;
            font-family: 'Montserrat', sans-serif;
            color: #fff;
        }

        /* ========== PRELOADER ========== */
        .preloader {
            position: fixed; inset: 0;
            background: radial-gradient(circle, #1a1a2e, #0a0a14);
            z-index: 99999;
            display: flex; align-items: center; justify-content: center;
            flex-direction: column; gap: 20px;
            transition: opacity 0.8s, visibility 0.8s;
        }
        .preloader.hide { opacity: 0; visibility: hidden; }
        .preloader-seasons {
            display: flex; gap: 12px; font-size: 32px;
        }
        .preloader-seasons span {
            animation: seasonBounce 1.5s ease infinite;
        }
        .preloader-seasons span:nth-child(1) { animation-delay: 0s; }
        .preloader-seasons span:nth-child(2) { animation-delay: 0.2s; }
        .preloader-seasons span:nth-child(3) { animation-delay: 0.4s; }
        .preloader-seasons span:nth-child(4) { animation-delay: 0.6s; }
        .preloader-seasons span:nth-child(5) { animation-delay: 0.8s; }
        @keyframes seasonBounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }
        .preloader p {
            font-family: 'Great Vibes', cursive;
            font-size: 1.5rem;
            color: rgba(255,255,255,0.5);
        }
        .preloader-bar {
            width: 200px; height: 3px;
            background: rgba(255,255,255,0.1);
            border-radius: 10px; overflow: hidden;
        }
        .preloader-bar::after {
            content: ''; display: block;
            width: 30%; height: 100%;
            background: linear-gradient(90deg, #88c0d0, #a3d977, #f0c040, #e06050, #b0c4de);
            background-size: 300% 100%;
            animation: loadBar 1.5s ease-in-out infinite;
            border-radius: 10px;
        }
        @keyframes loadBar {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(450%); }
        }

        /* ========== MUSIC ========== */
        .music-btn {
            position: fixed; top: 20px; right: 20px; z-index: 9999;
            width: 50px; height: 50px; border-radius: 50%;
            border: 1px solid rgba(255,255,255,0.15);
            background: rgba(0,0,0,0.5);
            backdrop-filter: blur(15px);
            cursor: pointer; display: flex;
            align-items: center; justify-content: center;
            transition: 0.3s;
        }
        .music-btn:hover { background: rgba(255,255,255,0.1); transform: scale(1.1); }
        .music-btn.active { box-shadow: 0 0 20px rgba(255,255,255,0.2); }
        .music-bars { display: flex; gap: 2.5px; align-items: flex-end; height: 18px; }
        .music-bars span { width: 3px; background: #fff; border-radius: 2px; }
        .music-bars span:nth-child(1) { height: 5px; }
        .music-bars span:nth-child(2) { height: 10px; }
        .music-bars span:nth-child(3) { height: 7px; }
        .music-bars span:nth-child(4) { height: 13px; }
        .music-btn.active .music-bars span { animation: barA 0.6s ease-in-out infinite alternate; }
        .music-bars span:nth-child(1) { animation-delay: 0s; }
        .music-bars span:nth-child(2) { animation-delay: 0.12s; }
        .music-bars span:nth-child(3) { animation-delay: 0.24s; }
        .music-bars span:nth-child(4) { animation-delay: 0.36s; }
        @keyframes barA { to { height: 18px; } }

        /* ========== SEASON NAV DOTS ========== */
        .season-nav {
            position: fixed; right: 20px; top: 50%; transform: translateY(-50%);
            z-index: 9998; display: flex; flex-direction: column; gap: 12px;
        }
        .season-dot {
            width: 12px; height: 12px; border-radius: 50%;
            border: 2px solid rgba(255,255,255,0.3);
            cursor: pointer; transition: 0.3s;
            position: relative;
        }
        .season-dot::after {
            content: attr(data-label);
            position: absolute; right: 22px; top: 50%; transform: translateY(-50%);
            font-size: 0.65rem; letter-spacing: 1px; text-transform: uppercase;
            white-space: nowrap; color: rgba(255,255,255,0.5);
            opacity: 0; transition: 0.3s; pointer-events: none;
        }
        .season-dot:hover::after { opacity: 1; }
        .season-dot.dot-winter { border-color: #88c0d0; }
        .season-dot.dot-winter.active { background: #88c0d0; box-shadow: 0 0 10px #88c0d0; }
        .season-dot.dot-spring { border-color: #f0a0b0; }
        .season-dot.dot-spring.active { background: #f0a0b0; box-shadow: 0 0 10px #f0a0b0; }
        .season-dot.dot-summer { border-color: #f0c040; }
        .season-dot.dot-summer.active { background: #f0c040; box-shadow: 0 0 10px #f0c040; }
        .season-dot.dot-rainy { border-color: #5b9bd5; }
        .season-dot.dot-rainy.active { background: #5b9bd5; box-shadow: 0 0 10px #5b9bd5; }
        .season-dot.dot-autumn { border-color: #e07840; }
        .season-dot.dot-autumn.active { background: #e07840; box-shadow: 0 0 10px #e07840; }

        /* ========== CANVASES ========== */
        #confettiCanvas { position: fixed; inset: 0; z-index: 9997; pointer-events: none; }

        /* ========== COMMON ========== */
        .main { position: relative; z-index: 2; }
        .sec-title {
            font-family: 'Great Vibes', cursive;
            font-size: 3rem;
            margin-bottom: 35px;
        }
        .reveal {
            opacity: 0; transform: translateY(30px);
            transition: all 0.7s cubic-bezier(0.16, 1, 0.3, 1);
        }
        .reveal.visible { opacity: 1; transform: translateY(0); }
        .rd1 { transition-delay: 0.08s; }
        .rd2 { transition-delay: 0.16s; }
        .rd3 { transition-delay: 0.24s; }
        .rd4 { transition-delay: 0.32s; }
        .rd5 { transition-delay: 0.4s; }
        .rd6 { transition-delay: 0.48s; }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(25px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-12px); }
        }
        @keyframes spin { to { transform: rotate(360deg); } }

        /* =============================================
           SECTION 1: WINTER ‚ùÑÔ∏è (Hero + Birthday)
           ============================================= */
        .winter-section {
            min-height: 100vh;
            display: flex; align-items: center; justify-content: center;
            position: relative; overflow: hidden;
            background: linear-gradient(180deg, #0a1628, #0d2137, #162d50, #0d2137, #0a1628);
        }

        .winter-section::before {
            content: '';
            position: absolute; inset: 0;
            background:
                radial-gradient(ellipse at 30% 20%, rgba(136,192,208,0.08) 0%, transparent 50%),
                radial-gradient(ellipse at 70% 80%, rgba(176,196,222,0.06) 0%, transparent 50%);
        }

        /* Snowfall */
        .snowfall {
            position: absolute; inset: 0; pointer-events: none; overflow: hidden;
        }
        .snowflake {
            position: absolute; top: -20px;
            color: rgba(255,255,255,0.6);
            animation: snowFall linear infinite;
            font-size: 14px;
        }
        @keyframes snowFall {
            0% { transform: translateY(-20px) rotate(0deg) translateX(0); opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 0.8; }
            100% { transform: translateY(100vh) rotate(360deg) translateX(80px); opacity: 0; }
        }

        .frost-border-top, .frost-border-bottom {
            position: absolute; left: 0; right: 0; height: 60px;
            pointer-events: none; z-index: 3;
        }
        .frost-border-top {
            top: 0;
            background: linear-gradient(180deg, rgba(136,192,208,0.1), transparent);
        }
        .frost-border-bottom {
            bottom: 0;
            background: linear-gradient(0deg, rgba(136,192,208,0.08), transparent);
        }

        .winter-content { text-align: center; padding: 40px 20px; position: relative; z-index: 2; }

        .winter-badge {
            display: inline-flex; align-items: center; gap: 8px;
            padding: 8px 22px; border-radius: 30px;
            border: 1px solid rgba(136,192,208,0.3);
            background: rgba(136,192,208,0.06);
            font-size: 0.78rem; font-weight: 500;
            letter-spacing: 4px; text-transform: uppercase;
            color: #88c0d0; margin-bottom: 28px;
            opacity: 0; animation: fadeIn 1s ease 1.5s forwards;
        }

        /* Photo */
        .photo-wrapper {
            position: relative; width: 210px; height: 210px;
            margin: 0 auto 30px;
            opacity: 0; animation: zoomIn 1s ease 1.8s forwards;
        }
        @keyframes zoomIn {
            from { opacity: 0; transform: scale(0.5); }
            to { opacity: 1; transform: scale(1); }
        }
        .photo-wrapper img {
            width: 100%; height: 100%; object-fit: cover;
            border-radius: 50%; position: relative; z-index: 2;
            border: 3px solid rgba(136,192,208,0.4);
            box-shadow: 0 0 40px rgba(136,192,208,0.2), 0 0 80px rgba(136,192,208,0.1);
        }
        .photo-ring-1 {
            position: absolute; inset: -14px; border-radius: 50%;
            border: 2px solid transparent;
            border-top-color: #88c0d0; border-bottom-color: rgba(136,192,208,0.3);
            animation: spin 6s linear infinite;
        }
        .photo-ring-1::after {
            content: '‚ùÑÔ∏è'; position: absolute; top: -10px; left: 50%;
            transform: translateX(-50%); font-size: 16px;
        }
        .photo-ring-2 {
            position: absolute; inset: -26px; border-radius: 50%;
            border: 1px solid transparent;
            border-left-color: rgba(176,196,222,0.3);
            border-right-color: rgba(136,192,208,0.2);
            animation: spin 10s linear infinite reverse;
        }
        .photo-glow {
            position: absolute; inset: -45px; border-radius: 50%;
            background: radial-gradient(circle, rgba(136,192,208,0.1) 0%, transparent 70%);
            animation: glowPulse 3s ease-in-out infinite;
        }
        @keyframes glowPulse {
            0%, 100% { transform: scale(1); opacity: 0.5; }
            50% { transform: scale(1.12); opacity: 1; }
        }

        .winter-section h2 {
            font-family: 'Great Vibes', cursive;
            font-size: 3.5rem; color: rgba(255,255,255,0.9);
            text-shadow: 0 0 30px rgba(136,192,208,0.3);
            opacity: 0; animation: fadeInUp 1s ease 2.1s forwards;
        }
        .winter-section h1 {
            font-family: 'Cormorant Garamond', serif;
            font-size: 5.5rem; font-weight: 700;
            letter-spacing: 8px; line-height: 1.1; margin: 10px 0 15px;
            background: linear-gradient(135deg, #b0c4de, #e0e8f0, #88c0d0, #d6eaf8, #b0c4de);
            background-size: 300% 300%;
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            animation: iceShimmer 5s ease infinite, fadeInUp 1s ease 2.4s forwards;
            opacity: 0;
        }
        @keyframes iceShimmer {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }
        .winter-section .age-line {
            font-size: 1.1rem; font-weight: 300;
            color: rgba(255,255,255,0.5); letter-spacing: 4px;
            opacity: 0; animation: fadeInUp 1s ease 2.7s forwards;
        }
        .winter-section .age-num {
            font-family: 'Cormorant Garamond', serif;
            font-size: 3.5rem; font-weight: 700;
            background: linear-gradient(135deg, #88c0d0, #d6eaf8);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            vertical-align: middle; line-height: 1;
        }
        .winter-section .season-label {
            margin-top: 20px; font-size: 0.7rem;
            letter-spacing: 6px; text-transform: uppercase;
            color: rgba(136,192,208,0.4);
            opacity: 0; animation: fadeIn 1s ease 3s forwards;
        }

        .scroll-hint {
            position: absolute; bottom: 30px; left: 50%;
            transform: translateX(-50%);
            opacity: 0; animation: fadeIn 1s ease 3.5s forwards;
        }
        .scroll-hint span {
            display: block; width: 18px; height: 18px;
            border-right: 1.5px solid rgba(136,192,208,0.5);
            border-bottom: 1.5px solid rgba(136,192,208,0.5);
            transform: rotate(45deg); animation: scrollBounce 2s infinite;
        }
        @keyframes scrollBounce {
            0%, 100% { transform: rotate(45deg) translate(0,0); opacity: 0.3; }
            50% { transform: rotate(45deg) translate(5px,5px); opacity: 0.8; }
        }

        /* =============================================
           SECTION 2: SPRING üå∏ (Cake)
           ============================================= */
        .spring-section {
            padding: 80px 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
            background: linear-gradient(180deg, #0a1628, #1a0f20, #2a1428, #1a0f20, #0a1628);
        }

        .spring-section::before {
            content: '';
            position: absolute; inset: 0;
            background:
                radial-gradient(ellipse at 40% 30%, rgba(240,160,176,0.06) 0%, transparent 50%),
                radial-gradient(ellipse at 60% 70%, rgba(200,160,220,0.05) 0%, transparent 50%);
        }

        .spring-particles {
            position: absolute; inset: 0; pointer-events: none; overflow: hidden;
        }
        .petal {
            position: absolute;
            font-size: 16px;
            animation: petalFall linear infinite;
            opacity: 0.5;
        }
        @keyframes petalFall {
            0% { transform: translateY(-30px) rotate(0deg) translateX(0); opacity: 0; }
            10% { opacity: 0.6; }
            100% { transform: translateY(100vh) rotate(720deg) translateX(100px); opacity: 0; }
        }

        .spring-section .sec-title {
            color: #f0a0b0;
            text-shadow: 0 0 20px rgba(240,160,176,0.2);
            position: relative; z-index: 2;
        }

        .cake-wrapper {
            position: relative; display: inline-block;
            cursor: pointer; transition: transform 0.3s;
            z-index: 2;
        }
        .cake-wrapper:hover { transform: scale(1.06); }
        .cake-emoji {
            font-size: 130px; display: block;
            filter: drop-shadow(0 15px 30px rgba(240,160,176,0.2));
            animation: float 3s ease-in-out infinite;
        }
        .candles-row {
            position: absolute; top: -22px; left: 50%;
            transform: translateX(-50%); display: flex; gap: 5px;
        }
        .candle-flame { font-size: 18px; animation: flicker 0.4s infinite alternate; }
        @keyframes flicker {
            0% { transform: scale(1) rotate(-3deg); }
            100% { transform: scale(1.1) rotate(3deg); }
        }
        .cake-hint {
            font-size: 0.82rem; color: rgba(240,160,176,0.4);
            margin-top: 12px; animation: pulse 2s infinite;
            position: relative; z-index: 2;
        }
        @keyframes pulse {
            0%, 100% { opacity: 0.4; }
            50% { opacity: 1; }
        }
        .wish-reveal {
            display: none; margin-top: 22px;
            font-family: 'Great Vibes', cursive;
            font-size: 2rem; color: #f0a0b0;
            animation: fadeInUp 0.8s ease;
            position: relative; z-index: 2;
        }

        .spring-floor {
            position: absolute; bottom: 0; left: 0; right: 0;
            height: 80px;
            background: linear-gradient(0deg, rgba(240,160,176,0.04), transparent);
            pointer-events: none;
        }

        /* =============================================
           SECTION 3: SUMMER ‚òÄÔ∏è (Message)
           ============================================= */
        .summer-section {
            padding: 80px 20px;
            display: flex; justify-content: center;
            position: relative; overflow: hidden;
            background: linear-gradient(180deg, #0a1628, #1a1808, #2a2010, #1a1808, #0a1628);
        }

        .summer-section::before {
            content: '';
            position: absolute; inset: 0;
            background:
                radial-gradient(ellipse at 50% 0%, rgba(240,192,64,0.08) 0%, transparent 50%),
                radial-gradient(ellipse at 30% 80%, rgba(240,140,20,0.04) 0%, transparent 40%);
        }

        /* Sun rays */
        .sun-rays {
            position: absolute; top: -100px; left: 50%;
            transform: translateX(-50%);
            width: 400px; height: 400px; pointer-events: none;
            background: radial-gradient(circle, rgba(240,192,64,0.08) 0%, transparent 60%);
            animation: sunPulse 4s ease-in-out infinite;
        }
        @keyframes sunPulse {
            0%, 100% { transform: translateX(-50%) scale(1); opacity: 0.6; }
            50% { transform: translateX(-50%) scale(1.2); opacity: 1; }
        }

        .heat-shimmer {
            position: absolute; inset: 0; pointer-events: none; overflow: hidden;
        }
        .shimmer-dot {
            position: absolute;
            width: 3px; height: 3px; border-radius: 50%;
            background: rgba(240,192,64,0.3);
            animation: shimmerFloat 4s ease-in-out infinite;
        }
        @keyframes shimmerFloat {
            0%, 100% { transform: translateY(0); opacity: 0.2; }
            50% { transform: translateY(-20px); opacity: 0.6; }
        }

        .letter-card {
            max-width: 680px; width: 100%; position: relative; z-index: 2;
            background: linear-gradient(160deg, rgba(240,192,64,0.04), rgba(240,140,20,0.02));
            border: 1px solid rgba(240,192,64,0.1);
            border-radius: 24px; padding: 50px 45px;
            box-shadow: 0 30px 80px rgba(0,0,0,0.4),
                        inset 0 1px 0 rgba(240,192,64,0.1);
        }
        .letter-card::before {
            content: ''; position: absolute;
            top: 0; left: 20px; right: 20px; height: 2px;
            background: linear-gradient(to right, transparent, #f0c040, #f08c14, #f0c040, transparent);
            border-radius: 2px;
        }
        .letter-card .open-quote {
            font-family: Georgia, serif; font-size: 55px;
            color: rgba(240,192,64,0.12); line-height: 0.5;
        }
        .letter-card p {
            font-size: 1.05rem; line-height: 1.95; font-weight: 300;
            color: rgba(255,255,255,0.75); margin: 14px 0;
        }
        .letter-card .sun-sep {
            text-align: center; margin: 18px 0;
            font-size: 14px; letter-spacing: 10px;
            color: rgba(240,192,64,0.35);
        }
        .letter-card .sign {
            text-align: right; font-family: 'Great Vibes', cursive;
            font-size: 2.2rem; color: #f0c040; margin-top: 25px;
        }

        /* =============================================
           SECTION 4: RAINY üåßÔ∏è (Qualities)
           ============================================= */
        .rainy-section {
            padding: 80px 20px;
            text-align: center;
            position: relative; overflow: hidden;
            background: linear-gradient(180deg, #0a1628, #0a1830, #0f2040, #0a1830, #0a1628);
        }

        .rainy-section::before {
            content: '';
            position: absolute; inset: 0;
            background:
                radial-gradient(ellipse at 40% 60%, rgba(91,155,213,0.06) 0%, transparent 50%),
                radial-gradient(ellipse at 70% 30%, rgba(100,180,230,0.04) 0%, transparent 40%);
        }

        /* Rain */
        .rainfall {
            position: absolute; inset: 0; pointer-events: none; overflow: hidden;
        }
        .raindrop {
            position: absolute; top: -30px;
            width: 2px;
            background: linear-gradient(180deg, transparent, rgba(91,155,213,0.5));
            animation: rainFall linear infinite;
        }
        @keyframes rainFall {
            0% { transform: translateY(-30px); opacity: 0; }
            10% { opacity: 1; }
            100% { transform: translateY(100vh); opacity: 0.3; }
        }

        .rainy-section .sec-title {
            color: #7cb8e0;
            text-shadow: 0 0 20px rgba(91,155,213,0.2);
            position: relative; z-index: 2;
        }

        .qualities-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 14px; max-width: 820px;
            margin: 28px auto 0;
            position: relative; z-index: 2;
        }

        .quality-card {
            background: linear-gradient(160deg, rgba(91,155,213,0.06), rgba(100,180,230,0.03));
            border: 1px solid rgba(91,155,213,0.1);
            border-radius: 18px; padding: 32px 16px 26px;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative; overflow: hidden;
        }
        .quality-card::before {
            content: ''; position: absolute;
            top: 0; left: 0; right: 0; height: 1px;
            background: linear-gradient(to right, transparent, rgba(91,155,213,0.3), transparent);
        }
        .quality-card:hover {
            transform: translateY(-8px);
            border-color: rgba(91,155,213,0.3);
            box-shadow: 0 15px 40px rgba(91,155,213,0.1);
            background: linear-gradient(160deg, rgba(91,155,213,0.1), rgba(100,180,230,0.05));
        }
        .quality-card .q-icon { font-size: 36px; margin-bottom: 10px; }
        .quality-card h3 {
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.15rem; font-weight: 600;
            color: #7cb8e0; margin-bottom: 5px;
        }
        .quality-card p {
            font-size: 0.75rem; font-weight: 300;
            color: rgba(255,255,255,0.4); line-height: 1.5;
        }

        /* Water ripple at bottom */
        .water-surface {
            position: absolute; bottom: 0; left: 0; right: 0;
            height: 100px; pointer-events: none;
            background: linear-gradient(0deg, rgba(91,155,213,0.06), transparent);
        }

        /* =============================================
           SECTION 5: AUTUMN üçÇ (Milestones + Wishes)
           ============================================= */
        .autumn-section {
            padding: 80px 20px;
            text-align: center;
            position: relative; overflow: hidden;
            background: linear-gradient(180deg, #0a1628, #1a1210, #2a1a10, #1a1210, #0a1628);
        }

        .autumn-section::before {
            content: '';
            position: absolute; inset: 0;
            background:
                radial-gradient(ellipse at 40% 40%, rgba(224,120,64,0.06) 0%, transparent 50%),
                radial-gradient(ellipse at 60% 70%, rgba(200,160,60,0.04) 0%, transparent 40%);
        }

        /* Falling leaves */
        .leaf-fall {
            position: absolute; inset: 0; pointer-events: none; overflow: hidden;
        }
        .leaf {
            position: absolute; top: -30px;
            font-size: 18px;
            animation: leafFall linear infinite;
            opacity: 0.5;
        }
        @keyframes leafFall {
            0% { transform: translateY(-30px) rotate(0deg) translateX(0); opacity: 0; }
            10% { opacity: 0.5; }
            50% { transform: translateY(50vh) rotate(180deg) translateX(60px); }
            100% { transform: translateY(100vh) rotate(360deg) translateX(-30px); opacity: 0; }
        }

        .autumn-section .sec-title {
            color: #e0a050;
            text-shadow: 0 0 20px rgba(224,160,80,0.2);
            position: relative; z-index: 2;
        }

        .milestones-row {
            display: flex; justify-content: center;
            gap: 18px; flex-wrap: wrap;
            max-width: 850px; margin: 28px auto 0;
            position: relative; z-index: 2;
        }
        .milestone {
            flex: 1; min-width: 130px; max-width: 190px;
            text-align: center; padding: 26px 14px;
            background: linear-gradient(160deg, rgba(224,120,64,0.06), rgba(200,160,60,0.03));
            border: 1px solid rgba(224,120,64,0.1);
            border-radius: 16px; transition: 0.3s;
        }
        .milestone:hover {
            transform: translateY(-6px);
            background: linear-gradient(160deg, rgba(224,120,64,0.1), rgba(200,160,60,0.06));
            box-shadow: 0 12px 30px rgba(224,120,64,0.1);
            border-color: rgba(224,120,64,0.25);
        }
        .milestone .ms-num {
            font-family: 'Cormorant Garamond', serif;
            font-size: 2.6rem; font-weight: 700;
            background: linear-gradient(135deg, #e07840, #e0a050);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            line-height: 1;
        }
        .milestone .ms-label {
            font-size: 0.68rem; text-transform: uppercase;
            letter-spacing: 2px; color: rgba(255,255,255,0.35); margin-top: 6px;
        }

        /* Autumn Wishes */
        .autumn-wishes-title {
            margin-top: 70px;
            position: relative; z-index: 2;
        }

        .wishes-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 14px; max-width: 860px;
            margin: 28px auto 0;
            position: relative; z-index: 2;
        }
        .wish-card {
            padding: 28px 20px; border-radius: 18px;
            border: 1px solid rgba(224,120,64,0.08);
            background: linear-gradient(160deg, rgba(224,120,64,0.05), rgba(200,160,60,0.03));
            transition: 0.4s;
        }
        .wish-card:hover {
            transform: translateY(-5px) scale(1.01);
            box-shadow: 0 12px 28px rgba(224,120,64,0.1);
            border-color: rgba(224,120,64,0.2);
        }
        .wish-card .w-icon { font-size: 30px; margin-bottom: 10px; }
        .wish-card h4 {
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.1rem; font-weight: 600;
            color: #e0a050; margin-bottom: 5px;
        }
        .wish-card p {
            font-size: 0.8rem; font-weight: 300;
            color: rgba(255,255,255,0.45); line-height: 1.6;
        }

        .autumn-ground {
            position: absolute; bottom: 0; left: 0; right: 0;
            height: 80px; pointer-events: none;
            background: linear-gradient(0deg, rgba(224,120,64,0.04), transparent);
        }

        /* =============================================
           SEASON TRANSITION STRIPS
           ============================================= */
        .season-transition {
            height: 60px;
            position: relative;
            overflow: hidden;
        }

        .transition-winter-spring {
            background: linear-gradient(180deg, #0a1628, #1a0f20);
        }
        .transition-spring-summer {
            background: linear-gradient(180deg, #1a0f20, #1a1808);
        }
        .transition-summer-rainy {
            background: linear-gradient(180deg, #1a1808, #0a1830);
        }
        .transition-rainy-autumn {
            background: linear-gradient(180deg, #0a1830, #1a1210);
        }

        .transition-strip {
            display: flex; gap: 15px; justify-content: center;
            align-items: center; height: 100%;
        }
        .transition-strip::before, .transition-strip::after {
            content: ''; width: 80px; height: 1px;
        }
        .t-ws::before, .t-ws::after {
            background: linear-gradient(to right, rgba(136,192,208,0.3), rgba(240,160,176,0.3));
        }
        .t-ss::before, .t-ss::after {
            background: linear-gradient(to right, rgba(240,160,176,0.3), rgba(240,192,64,0.3));
        }
        .t-sr::before, .t-sr::after {
            background: linear-gradient(to right, rgba(240,192,64,0.3), rgba(91,155,213,0.3));
        }
        .t-ra::before, .t-ra::after {
            background: linear-gradient(to right, rgba(91,155,213,0.3), rgba(224,120,64,0.3));
        }
        .transition-strip .t-icon { font-size: 16px; opacity: 0.6; }

        /* =============================================
           FOOTER: ALL SEASONS MERGE
           ============================================= */
        .footer {
            padding: 80px 20px 40px;
            text-align: center;
            position: relative; overflow: hidden;
            background: linear-gradient(180deg, #1a1210, #0a0a14, #050508);
        }

        .footer::before {
            content: ''; position: absolute;
            top: 0; left: 10%; right: 10%; height: 1px;
            background: linear-gradient(to right, transparent, rgba(255,255,255,0.15), transparent);
        }

        .footer .season-icons {
            font-size: 1.5rem; letter-spacing: 12px;
            margin-bottom: 25px; opacity: 0.5;
        }

        .footer .final-text {
            font-family: 'Dancing Script', cursive;
            font-size: 3.5rem; font-weight: 700;
            background: linear-gradient(135deg, #88c0d0, #f0a0b0, #f0c040, #5b9bd5, #e07840, #88c0d0);
            background-size: 400% 400%;
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            animation: allSeasons 6s ease infinite;
        }
        @keyframes allSeasons {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .footer .sub-text {
            font-size: 0.95rem; font-weight: 300;
            color: rgba(255,255,255,0.35);
            max-width: 480px; margin: 20px auto 0; line-height: 1.8;
        }

        .footer .credit {
            font-size: 0.72rem; color: rgba(255,255,255,0.15);
            margin-top: 50px; letter-spacing: 1px;
        }
        .footer .credit span { color: #e07840; }

        /* ===== RESPONSIVE ===== */
        @media (max-width: 768px) {
            .winter-section h1 { font-size: 3.5rem; letter-spacing: 4px; }
            .winter-section h2 { font-size: 2.5rem; }
            .photo-wrapper { width: 170px; height: 170px; }
            .sec-title { font-size: 2.3rem; }
            .qualities-grid { grid-template-columns: repeat(2, 1fr); }
            .letter-card { padding: 35px 28px; }
            .footer .final-text { font-size: 2.5rem; }
            .season-nav { display: none; }
        }

        @media (max-width: 480px) {
            .winter-section h1 { font-size: 2.5rem; letter-spacing: 3px; }
            .winter-section h2 { font-size: 1.8rem; }
            .photo-wrapper { width: 140px; height: 140px; }
            .sec-title { font-size: 1.8rem; }
            .qualities-grid { grid-template-columns: 1fr 1fr; gap: 8px; }
            .quality-card { padding: 22px 10px 18px; }
            .letter-card { padding: 25px 18px; }
            .letter-card p { font-size: 0.9rem; }
            .milestone { min-width: 90px; padding: 18px 8px; }
            .milestone .ms-num { font-size: 2rem; }
            .footer .final-text { font-size: 1.8rem; }
        }
    </style>
</head>
<body>

    <!-- Preloader -->
    <div class="preloader" id="preloader">
        <div class="preloader-seasons">
            <span>‚ùÑÔ∏è</span><span>üå∏</span><span>‚òÄÔ∏è</span><span>üåßÔ∏è</span><span>üçÇ</span>
        </div>
        <div class="preloader-bar"></div>
        <p>Through every season, for you...</p>
    </div>

    <!-- Music -->
    <button class="music-btn" id="musicBtn" onclick="toggleMusic()">
        <div class="music-bars"><span></span><span></span><span></span><span></span></div>
    </button>
    <audio id="bgMusic" loop preload="auto">
        <source src="chibina-song.mp3" type="audio/mpeg">
    </audio>

    <!-- Season Nav -->
    <nav class="season-nav">
        <div class="season-dot dot-winter active" data-label="Winter" onclick="scrollToSection('winter')"></div>
        <div class="season-dot dot-spring" data-label="Spring" onclick="scrollToSection('spring')"></div>
        <div class="season-dot dot-summer" data-label="Summer" onclick="scrollToSection('summer')"></div>
        <div class="season-dot dot-rainy" data-label="Rainy" onclick="scrollToSection('rainy')"></div>
        <div class="season-dot dot-autumn" data-label="Autumn" onclick="scrollToSection('autumn')"></div>
    </nav>

    <!-- Confetti -->
    <canvas id="confettiCanvas"></canvas>

    <!-- ===== MAIN ===== -->
    <div class="main">

        <!-- ‚ùÑÔ∏è WINTER: Hero -->
        <section class="winter-section" id="winter">
            <div class="frost-border-top"></div>
            <div class="snowfall" id="snowfall"></div>
            <div class="winter-content">
                <div class="winter-badge">‚ùÑÔ∏è 18 February 2025</div>

                <div class="photo-wrapper">
                    <div class="photo-glow"></div>
                    <div class="photo-ring-2"></div>
                    <div class="photo-ring-1"></div>
                    <img src="komal.jpg" alt="Komal">
                </div>

                <h2>Happy Birthday</h2>
                <h1>KOMAL</h1>
                <div class="age-line">Turning <span class="age-num">29</span> today</div>
                <div class="season-label">‚ùÑÔ∏è Born in the beauty of Winter ‚ùÑÔ∏è</div>
            </div>
            <div class="scroll-hint"><span></span></div>
            <div class="frost-border-bottom"></div>
        </section>

        <!-- Transition -->
        <div class="season-transition transition-winter-spring">
            <div class="transition-strip t-ws">
                <span class="t-icon">‚ùÑÔ∏è ‚Üí üå∏</span>
            </div>
        </div>

        <!-- üå∏ SPRING: Cake -->
        <section class="spring-section" id="spring">
            <div class="spring-particles" id="petalContainer"></div>
            <h2 class="sec-title reveal">Make a Wish, Komal! üå∏</h2>
            <div class="cake-wrapper reveal" onclick="blowCandles()">
                <div class="candles-row" id="candles">
                    <span class="candle-flame">üïØÔ∏è</span>
                    <span class="candle-flame">üïØÔ∏è</span>
                    <span class="candle-flame">üïØÔ∏è</span>
                </div>
                <span class="cake-emoji">üéÇ</span>
            </div>
            <p class="cake-hint" id="cakeHint">Tap the cake to make a wish üå¨Ô∏è</p>
            <div class="wish-reveal" id="wishReveal">üå∏ May every petal carry your wishes to the sky üå∏</div>
            <div class="spring-floor"></div>
        </section>

        <!-- Transition -->
        <div class="season-transition transition-spring-summer">
            <div class="transition-strip t-ss">
                <span class="t-icon">üå∏ ‚Üí ‚òÄÔ∏è</span>
            </div>
        </div>

        <!-- ‚òÄÔ∏è SUMMER: Message -->
        <section class="summer-section" id="summer">
            <div class="sun-rays"></div>
            <div class="heat-shimmer" id="heatShimmer"></div>
            <div class="letter-card reveal">
                <div class="open-quote">"</div>
                <p>My Dearest Komal,</p>
                <div class="sun-sep">‚òÄ ‚òÄ ‚òÄ</div>
                <p>
                    Like the summer sun that lights up every corner of the earth,
                    you light up every corner of my life. On this beautiful 18th February,
                    as you turn 29, I want the whole universe to know how blessed I am to call you my wife.
                </p>
                <p>
                    Through every season of life ‚Äî the cold winters, the blooming springs,
                    the warm summers, the gentle rains, and the golden autumns ‚Äî my love for
                    you only grows deeper. You are my sunshine on cloudy days, my shelter in
                    the storm, and my warmth in the coldest nights.
                </p>
                <p>
                    Here's to 29 radiant years of you, and to a lifetime of
                    seasons we'll spend together. You deserve every beautiful thing
                    this world has to offer, Komal. I love you endlessly. ‚òÄÔ∏è
                </p>
                <div class="sun-sep">‚òÄ ‚òÄ ‚òÄ</div>
                <p>Happy Birthday, my eternal sunshine! ü•Ç‚ú®</p>
                <div class="sign">Forever Yours, Through All Seasons ‚ù§Ô∏è</div>
            </div>
        </section>

        <!-- Transition -->
        <div class="season-transition transition-summer-rainy">
            <div class="transition-strip t-sr">
                <span class="t-icon">‚òÄÔ∏è ‚Üí üåßÔ∏è</span>
            </div>
        </div>

        <!-- üåßÔ∏è RAINY: Qualities -->
        <section class="rainy-section" id="rainy">
            <div class="rainfall" id="rainfall"></div>
            <h2 class="sec-title reveal">Every Drop of Love üåßÔ∏è</h2>
            <div class="qualities-grid">
                <div class="quality-card reveal rd1">
                    <div class="q-icon">üåßÔ∏è</div>
                    <h3>Your Warmth</h3>
                    <p>Like a cozy blanket on a rainy day ‚Äî your love wraps around me</p>
                </div>
                <div class="quality-card reveal rd2">
                    <div class="q-icon">üåà</div>
                    <h3>Your Smile</h3>
                    <p>A rainbow after every storm ‚Äî your smile heals everything</p>
                </div>
                <div class="quality-card reveal rd3">
                    <div class="q-icon">‚òî</div>
                    <h3>Your Care</h3>
                    <p>An umbrella in life's storms ‚Äî always protecting, always there</p>
                </div>
                <div class="quality-card reveal rd4">
                    <div class="q-icon">üíß</div>
                    <h3>Your Purity</h3>
                    <p>A heart as pure as the first rain ‚Äî refreshing everyone around</p>
                </div>
                <div class="quality-card reveal rd5">
                    <div class="q-icon">‚õàÔ∏è</div>
                    <h3>Your Strength</h3>
                    <p>Like thunder ‚Äî powerful, bold, and impossible to ignore</p>
                </div>
                <div class="quality-card reveal rd6">
                    <div class="q-icon">üåä</div>
                    <h3>Your Depth</h3>
                    <p>A soul as deep as the ocean ‚Äî endlessly beautiful within</p>
                </div>
            </div>
            <div class="water-surface"></div>
        </section>

        <!-- Transition -->
        <div class="season-transition transition-rainy-autumn">
            <div class="transition-strip t-ra">
                <span class="t-icon">üåßÔ∏è ‚Üí üçÇ</span>
            </div>
        </div>

        <!-- üçÇ AUTUMN: Milestones + Wishes -->
        <section class="autumn-section" id="autumn">
            <div class="leaf-fall" id="leafFall"></div>
            <h2 class="sec-title reveal">29 Golden Years üçÇ</h2>
            <div class="milestones-row">
                <div class="milestone reveal rd1">
                    <div class="ms-num">29</div>
                    <div class="ms-label">Beautiful Years</div>
                </div>
                <div class="milestone reveal rd2">
                    <div class="ms-num">348</div>
                    <div class="ms-label">Lovely Months</div>
                </div>
                <div class="milestone reveal rd3">
                    <div class="ms-num">10,592</div>
                    <div class="ms-label">Precious Days</div>
                </div>
                <div class="milestone reveal rd4">
                    <div class="ms-num">‚àû</div>
                    <div class="ms-label">Reasons I Love You</div>
                </div>
            </div>

            <h2 class="sec-title autumn-wishes-title reveal">Birthday Wishes üçÅ</h2>
            <div class="wishes-grid">
                <div class="wish-card reveal rd1">
                    <div class="w-icon">‚ùÑÔ∏è</div>
                    <h4>Winter's Peace</h4>
                    <p>May serenity and calm embrace your heart like a gentle snowfall</p>
                </div>
                <div class="wish-card reveal rd2">
                    <div class="w-icon">üå∏</div>
                    <h4>Spring's Bloom</h4>
                    <p>May your dreams blossom like cherry blossoms in the spring breeze</p>
                </div>
                <div class="wish-card reveal rd3">
                    <div class="w-icon">‚òÄÔ∏è</div>
                    <h4>Summer's Joy</h4>
                    <p>May warmth and happiness shine on you like endless summer days</p>
                </div>
                <div class="wish-card reveal rd4">
                    <div class="w-icon">üåßÔ∏è</div>
                    <h4>Rain's Blessing</h4>
                    <p>May blessings shower upon you like the sweetest monsoon rain</p>
                </div>
                <div class="wish-card reveal rd5">
                    <div class="w-icon">üçÇ</div>
                    <h4>Autumn's Gold</h4>
                    <p>May prosperity and abundance color your life in shades of gold</p>
                </div>
                <div class="wish-card reveal rd6">
                    <div class="w-icon">üíë</div>
                    <h4>All Seasons Love</h4>
                    <p>May our love story bloom through every season ‚Äî forever and always</p>
                </div>
            </div>
            <div class="autumn-ground"></div>
        </section>

        <!-- üåç FOOTER: All Seasons -->
        <section class="footer">
            <div class="season-icons reveal">‚ùÑÔ∏è üå∏ ‚òÄÔ∏è üåßÔ∏è üçÇ</div>
            <div class="final-text reveal">Happy 29th Birthday, Komal!</div>
            <p class="sub-text reveal">
                Through every season of life ‚Äî winter's calm, spring's bloom,
                summer's warmth, monsoon's magic, and autumn's gold ‚Äî
                my love for you only grows stronger.
                <br><br>
                Here's to forever, my love. üíñ
            </p>
            <div class="credit">Crafted with <span>‚ù§Ô∏è</span> through all seasons, for Komal</div>
        </section>

    </div>

    <!-- ===== SCRIPTS ===== -->
    <script>
        // ===== PRELOADER =====
        window.addEventListener('load', () => {
            setTimeout(() => {
                document.getElementById('preloader').classList.add('hide');
                launchConfetti();
            }, 2800);
        });

        // ===== MUSIC =====
        let playing = false;
        const audio = document.getElementById('bgMusic');
        const mBtn = document.getElementById('musicBtn');

        function toggleMusic() {
            if (playing) { audio.pause(); mBtn.classList.remove('active'); }
            else { audio.play().catch(() => {}); mBtn.classList.add('active'); }
            playing = !playing;
        }

        document.addEventListener('click', function f() {
            if (!playing) {
                audio.play().then(() => { playing = true; mBtn.classList.add('active'); }).catch(() => {});
            }
            document.removeEventListener('click', f);
        }, { once: true });

        // ===== SCROLL TO SECTION =====
        function scrollToSection(id) {
            document.getElementById(id).scrollIntoView({ behavior: 'smooth' });
        }

        // ===== SEASON NAV ACTIVE STATE =====
        const sections = ['winter', 'spring', 'summer', 'rainy', 'autumn'];
        const dots = document.querySelectorAll('.season-dot');

        window.addEventListener('scroll', () => {
            let current = '';
            sections.forEach(id => {
                const section = document.getElementById(id);
                if (section) {
                    const rect = section.getBoundingClientRect();
                    if (rect.top <= window.innerHeight / 2 && rect.bottom >= window.innerHeight / 2) {
                        current = id;
                    }
                }
            });
            dots.forEach(dot => dot.classList.remove('active'));
            const activeDot = document.querySelector(`.dot-${current}`);
            if (activeDot) activeDot.classList.add('active');
        });

        // ===== SNOWFALL ‚ùÑÔ∏è =====
        function createSnow() {
            const container = document.getElementById('snowfall');
            const flakes = ['‚ùÑ', '‚ùÖ', '‚ùÜ', '‚Ä¢', '‚àó'];
            for (let i = 0; i < 60; i++) {
                const el = document.createElement('div');
                el.className = 'snowflake';
                el.textContent = flakes[Math.floor(Math.random() * flakes.length)];
                el.style.left = Math.random() * 100 + '%';
                el.style.fontSize = (Math.random() * 14 + 6) + 'px';
                el.style.animationDuration = (Math.random() * 8 + 5) + 's';
                el.style.animationDelay = (Math.random() * 10) + 's';
                el.style.opacity = Math.random() * 0.5 + 0.2;
                container.appendChild(el);
            }
        }
        createSnow();

        // ===== SPRING PETALS üå∏ =====
        function createPetals() {
            const container = document.getElementById('petalContainer');
            const petals = ['üå∏', 'üå∫', 'üå∑', 'üíÆ', '‚úø'];
            for (let i = 0; i < 35; i++) {
                const el = document.createElement('div');
                el.className = 'petal';
                el.textContent = petals[Math.floor(Math.random() * petals.length)];
                el.style.left = Math.random() * 100 + '%';
                el.style.fontSize = (Math.random() * 14 + 10) + 'px';
                el.style.animationDuration = (Math.random() * 10 + 6) + 's';
                el.style.animationDelay = (Math.random() * 12) + 's';
                container.appendChild(el);
            }
        }
        createPetals();

        // ===== SUMMER SHIMMER ‚òÄÔ∏è =====
        function createShimmer() {
            const container = document.getElementById('heatShimmer');
            for (let i = 0; i < 40; i++) {
                const el = document.createElement('div');
                el.className = 'shimmer-dot';
                el.style.left = Math.random() * 100 + '%';
                el.style.top = Math.random() * 100 + '%';
                el.style.animationDelay = (Math.random() * 4) + 's';
                el.style.animationDuration = (Math.random() * 3 + 3) + 's';
                container.appendChild(el);
            }
        }
        createShimmer();

        // ===== RAINFALL üåßÔ∏è =====
        function createRain() {
            const container = document.getElementById('rainfall');
            for (let i = 0; i < 80; i++) {
                const el = document.createElement('div');
                el.className = 'raindrop';
                el.style.left = Math.random() * 100 + '%';
                el.style.height = (Math.random() * 20 + 10) + 'px';
                el.style.animationDuration = (Math.random() * 0.8 + 0.4) + 's';
                el.style.animationDelay = (Math.random() * 3) + 's';
                el.style.opacity = Math.random() * 0.4 + 0.1;
                container.appendChild(el);
            }
        }
        createRain();

        // ===== AUTUMN LEAVES üçÇ =====
        function createLeaves() {
            const container = document.getElementById('leafFall');
            const leaves = ['üçÇ', 'üçÅ', 'üçÉ', 'üåæ', 'üçÄ'];
            for (let i = 0; i < 30; i++) {
                const el = document.createElement('div');
                el.className = 'leaf';
                el.textContent = leaves[Math.floor(Math.random() * leaves.length)];
                el.style.left = Math.random() * 100 + '%';
                el.style.fontSize = (Math.random() * 16 + 10) + 'px';
                el.style.animationDuration = (Math.random() * 8 + 6) + 's';
                el.style.animationDelay = (Math.random() * 10) + 's';
                container.appendChild(el);
            }
        }
        createLeaves();

        // ===== BLOW CANDLES =====
        let blown = false;
        let infiniteConfetti = false;

        function blowCandles() {
            if (blown) return;
            blown = true;
            document.getElementById('candles').style.display = 'none';
            document.getElementById('cakeHint').style.display = 'none';
            document.getElementById('wishReveal').style.display = 'block';

            // Start infinite confetti
            infiniteConfetti = true;
            launchConfetti();
            setInterval(() => {
                if (infiniteConfetti) {
                    for (let i = 0; i < 60; i++) {
                        setTimeout(() => confetti.push(new Confetto()), i * 15);
                    }
                }
            }, 3500);

            // Petal burst
            for (let i = 0; i < 25; i++) {
                setTimeout(() => {
                    const el = document.createElement('div');
                    el.textContent = ['üå∏', '‚ú®', 'üíñ', 'üå∫', '‚≠ê'][Math.floor(Math.random() * 5)];
                    Object.assign(el.style, {
                        position: 'fixed',
                        left: Math.random() * 100 + '%',
                        top: Math.random() * 100 + '%',
                        fontSize: (Math.random() * 26 + 12) + 'px',
                        zIndex: '9999', pointerEvents: 'none',
                        transition: 'all 1.5s ease-out', opacity: '1'
                    });
                    document.body.appendChild(el);
                    setTimeout(() => { el.style.opacity = '0'; el.style.transform = 'translateY(-70px) scale(0)'; }, 60);
                    setTimeout(() => el.remove(), 1600);
                }, i * 70);
            }
        }

        // ===== SEASONAL CONFETTI =====
        const cC = document.getElementById('confettiCanvas');
        const cCtx = cC.getContext('2d');
        let confetti = [];

        function resizeCC() { cC.width = innerWidth; cC.height = innerHeight; }
        resizeCC();
        addEventListener('resize', resizeCC);

        class Confetto {
            constructor() {
                this.x = Math.random() * cC.width;
                this.y = -15;
                this.w = Math.random() * 10 + 4;
                this.h = Math.random() * 6 + 3;
                // Seasonal colors!
                this.colors = [
                    '#88c0d0', '#b0c4de', '#d6eaf8',  // Winter
                    '#f0a0b0', '#f8c8d8', '#e8a0c0',  // Spring
                    '#f0c040', '#f09020', '#ffe080',   // Summer
                    '#5b9bd5', '#7cb8e0', '#a0d0f0',   // Rainy
                    '#e07840', '#e0a050', '#c06030'     // Autumn
                ];
                this.color = this.colors[Math.floor(Math.random() * this.colors.length)];
                this.vy = Math.random() * 2.5 + 1.5;
                this.vx = Math.random() * 3 - 1.5;
                this.rot = Math.random() * 360;
                this.rv = Math.random() * 8 - 4;
                this.op = 1;
                this.shape = Math.random() > 0.5 ? 'rect' : 'circle';
            }
            update() {
                this.y += this.vy;
                this.x += this.vx;
                this.rot += this.rv;
                this.vx += (Math.random() - 0.5) * 0.1;
                if (this.y > cC.height) this.op -= 0.02;
            }
            draw() {
                cCtx.save();
                cCtx.translate(this.x, this.y);
                cCtx.rotate(this.rot * Math.PI / 180);
                cCtx.globalAlpha = Math.max(0, this.op);
                cCtx.fillStyle = this.color;
                if (this.shape === 'rect') {
                    cCtx.fillRect(-this.w / 2, -this.h / 2, this.w, this.h);
                } else {
                    cCtx.beginPath();
                    cCtx.arc(0, 0, this.w / 2, 0, Math.PI * 2);
                    cCtx.fill();
                }
                cCtx.restore();
            }
        }

        function launchConfetti() {
            for (let i = 0; i < 180; i++) {
                setTimeout(() => confetti.push(new Confetto()), i * 12);
            }
            if (!confettiRunning) animConfetti();
        }

        let confettiRunning = false;
        function animConfetti() {
            if (confettiRunning) return;
            confettiRunning = true;
            (function loop() {
                cCtx.clearRect(0, 0, cC.width, cC.height);
                confetti = confetti.filter(c => c.op > 0);
                confetti.forEach(c => { c.update(); c.draw(); });
                if (confetti.length > 0 || infiniteConfetti) {
                    requestAnimationFrame(loop);
                } else {
                    confettiRunning = false;
                }
            })();
        }

        // ===== SCROLL REVEAL =====
        const obs = new IntersectionObserver(entries => {
            entries.forEach(e => { if (e.isIntersecting) e.target.classList.add('visible'); });
        }, { threshold: 0.1 });
        document.querySelectorAll('.reveal').forEach(el => obs.observe(el));

        // ===== SEASONAL MOUSE TRAIL =====
        let currentSeason = 'winter';
        const seasonTrail = {
            winter: ['‚ùÑÔ∏è', '‚ùÖ', '‚≠ê'],
            spring: ['üå∏', 'üå∫', '‚ú®'],
            summer: ['‚òÄÔ∏è', '‚≠ê', '‚ú®'],
            rainy: ['üíß', 'üåßÔ∏è', 'üí´'],
            autumn: ['üçÇ', 'üçÅ', 'üçÉ']
        };

        window.addEventListener('scroll', () => {
            sections.forEach(id => {
                const section = document.getElementById(id);
                if (section) {
                    const rect = section.getBoundingClientRect();
                    if (rect.top <= window.innerHeight / 2 && rect.bottom >= window.innerHeight / 2) {
                        currentSeason = id;
                    }
                }
            });
        });

        document.addEventListener('mousemove', e => {
            if (Math.random() > 0.88) {
                const trails = seasonTrail[currentSeason] || seasonTrail.winter;
                const s = document.createElement('div');
                s.textContent = trails[Math.floor(Math.random() * trails.length)];
                Object.assign(s.style, {
                    position: 'fixed', left: e.clientX + 'px', top: e.clientY + 'px',
                    fontSize: '11px', pointerEvents: 'none', zIndex: '9996',
                    transition: 'all 1s ease', opacity: '1'
                });
                document.body.appendChild(s);
                setTimeout(() => { s.style.opacity = '0'; s.style.transform = 'translateY(-20px) scale(0)'; }, 40);
                setTimeout(() => s.remove(), 1100);
            }
        });

        // ===== DOUBLE CLICK SEASONAL BURST =====
        document.addEventListener('dblclick', e => {
            const trails = seasonTrail[currentSeason] || seasonTrail.winter;
            for (let i = 0; i < 14; i++) {
                setTimeout(() => {
                    const el = document.createElement('div');
                    el.textContent = trails[Math.floor(Math.random() * trails.length)];
                    Object.assign(el.style, {
                        position: 'fixed', left: e.clientX + 'px', top: e.clientY + 'px',
                        fontSize: (Math.random() * 22 + 10) + 'px', pointerEvents: 'none',
                        zIndex: '9996', transition: 'all 1.2s ease-out'
                    });
                    document.body.appendChild(el);
                    const a = (Math.PI * 2 / 14) * i, d = Math.random() * 120 + 40;
                    setTimeout(() => {
                        el.style.transform = `translate(${Math.cos(a) * d}px, ${Math.sin(a) * d}px) scale(0)`;
                        el.style.opacity = '0';
                    }, 40);
                    setTimeout(() => el.remove(), 1300);
                }, i * 20);
            }
        });

        console.log('%cüå∏ Happy 29th Birthday, Komal! üå∏', 'font-size: 22px; color: #f0a0b0; font-weight: bold;');
        console.log('%cThrough every season ‚Äî with love ‚ù§Ô∏è', 'font-size: 14px; color: #e07840;');
    </script>
</body>
</html>